From b5bbb5dfdfa07bd068579e87b6c1a9b0e7c78273 Mon Sep 17 00:00:00 2001
From: root <root@gitlab>
Date: Fri, 21 Aug 2015 10:52:34 +0000
Subject: [PATCH 06/11] Make buttons on issues look more like GitHub's

---
 app/assets/javascripts/notes.js.coffee          | 4 ++--
 app/assets/stylesheets/pages/note_form.scss     | 3 +++
 app/views/projects/issues/_discussion.html.haml | 4 ++--
 app/views/projects/notes/_form.html.haml        | 2 +-
 4 files changed, 8 insertions(+), 5 deletions(-)

diff --git a/app/assets/javascripts/notes.js.coffee b/app/assets/javascripts/notes.js.coffee
index ea75c65..6660364 100644
--- a/app/assets/javascripts/notes.js.coffee
+++ b/app/assets/javascripts/notes.js.coffee
@@ -515,8 +515,8 @@ class @Notes
     form = textarea.parents('form')
 
     if textarea.val().trim().length > 0
-      form.find('.js-note-target-reopen').text('Comment & reopen')
-      form.find('.js-note-target-close').text('Comment & close')
+      form.find('.js-note-target-reopen').text('Reopen and comment')
+      form.find('.js-note-target-close').text('Close and comment')
     else
       form.find('.js-note-target-reopen').text('Reopen')
       form.find('.js-note-target-close').text('Close')
diff --git a/app/assets/stylesheets/pages/note_form.scss b/app/assets/stylesheets/pages/note_form.scss
index 4392f08..d24a42f 100644
--- a/app/assets/stylesheets/pages/note_form.scss
+++ b/app/assets/stylesheets/pages/note_form.scss
@@ -81,6 +81,9 @@
 }
 
 .note-form-actions {
+  display: flex;
+  justify-content: flex-end;
+
   background: #F9F9F9;
 
   .note-form-option {
diff --git a/app/views/projects/issues/_discussion.html.haml b/app/views/projects/issues/_discussion.html.haml
index d4a98ec..7b1cbff 100644
--- a/app/views/projects/issues/_discussion.html.haml
+++ b/app/views/projects/issues/_discussion.html.haml
@@ -1,9 +1,9 @@
 - content_for :note_actions do
   - if can?(current_user, :update_issue, @issue)
     - if @issue.closed?
-      = link_to 'Reopen Issue', issue_path(@issue, issue: {state_event: :reopen}, status_only: true), method: :put, class: 'btn btn-grouped btn-reopen js-note-target-reopen', title: 'Reopen Issue'
+      = link_to 'Reopen issue', issue_path(@issue, issue: {state_event: :reopen}, status_only: true), method: :put, class: 'btn btn-grouped btn-reopen js-note-target-reopen', title: 'Reopen Issue'
     - else
-      = link_to 'Close Issue', issue_path(@issue, issue: {state_event: :close}, status_only: true), method: :put, class: 'btn btn-grouped btn-close js-note-target-close', title: 'Close Issue'
+      = link_to 'Close issue', issue_path(@issue, issue: {state_event: :close}, status_only: true), method: :put, class: 'btn btn-grouped btn-close js-note-target-close', title: 'Close Issue'
 
 = render 'shared/show_aside'
 
diff --git a/app/views/projects/notes/_form.html.haml b/app/views/projects/notes/_form.html.haml
index 13dfa0a..a6537c2 100644
--- a/app/views/projects/notes/_form.html.haml
+++ b/app/views/projects/notes/_form.html.haml
@@ -14,6 +14,6 @@
 
   .note-form-actions
     .buttons.clearfix
-      = f.submit 'Add Comment', class: "btn btn-green comment-btn btn-grouped js-comment-button"
       = yield(:note_actions)
+      = f.submit 'Comment', class: "btn btn-green comment-btn btn-grouped js-comment-button"
       %a.btn.grouped.js-close-discussion-note-form Cancel
-- 
1.9.1

